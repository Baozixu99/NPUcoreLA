.\" Automatically generated by Pod::Man 4.14 (Pod::Simple 3.42)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "QEMU-GA.8 8"
.TH QEMU-GA.8 8 "2024-01-31" " " " "
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
qemu\-ga \- QEMU Guest Agent
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBqemu-ga\fR [\fI\s-1OPTIONS\s0\fR]
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
The \s-1QEMU\s0 Guest Agent is a daemon intended to be run within virtual
machines. It allows the hypervisor host to perform various operations
in the guest, such as:
.IP "\(bu" 4
get information from the guest
.IP "\(bu" 4
set the guest's system time
.IP "\(bu" 4
read/write a file
.IP "\(bu" 4
sync and freeze the filesystems
.IP "\(bu" 4
suspend the guest
.IP "\(bu" 4
reconfigure guest local processors
.IP "\(bu" 4
set user's password
.IP "\(bu" 4
\&...
.PP
qemu-ga will read a system configuration file on startup (located at
\&\fI/etc/qemu/qemu\-ga.conf\fR by default), then parse remaining
configuration options on the command line. For the same key, the last
option wins, but the lists accumulate (see below for configuration
file format).
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-m, \-\-method=\fR\fImethod\fR" 4
.IX Item "-m, --method=method"
.Vb 2
\&  Transport method: one of B<unix\-listen>, B<virtio\-serial>, or
\&  B<isa\-serial> (B<virtio\-serial> is the default).
.Ve
.IP "\fB\-p, \-\-path=\fR\fIpath\fR" 4
.IX Item "-p, --path=path"
.Vb 3
\&  Device/socket path (the default for virtio\-serial is
\&  B</dev/virtio\-ports/org.qemu.guest_agent.0>,
\&  the default for isa\-serial is B</dev/ttyS0>)
.Ve
.IP "\fB\-l, \-\-logfile=\fR\fIpath\fR" 4
.IX Item "-l, --logfile=path"
.Vb 1
\&  Set log file path (default is stderr).
.Ve
.IP "\fB\-f, \-\-pidfile=\fR\fIpath\fR" 4
.IX Item "-f, --pidfile=path"
.Vb 1
\&  Specify pid file (default is B</var/run/qemu\-ga.pid>).
.Ve
.IP "\fB\-F, \-\-fsfreeze\-hook=\fR\fIpath\fR" 4
.IX Item "-F, --fsfreeze-hook=path"
.Vb 6
\&  Enable fsfreeze hook. Accepts an optional argument that specifies
\&  script to run on freeze/thaw. Script will be called with
\&  \*(Aqfreeze\*(Aq/\*(Aqthaw\*(Aq arguments accordingly (default is
\&  B</etc/qemu/fsfreeze\-hook>). If using \-F with an argument, do
\&  not follow \-F with a space (for example:
\&  B<\-F/var/run/fsfreezehook.sh>).
.Ve
.IP "\fB\-t, \-\-statedir=\fR\fIpath\fR" 4
.IX Item "-t, --statedir=path"
.Vb 2
\&  Specify the directory to store state information (absolute paths only,
\&  default is B</var/run>).
.Ve
.IP "\fB\-v, \-\-verbose\fR" 4
.IX Item "-v, --verbose"
.Vb 1
\&  Log extra debugging information.
.Ve
.IP "\fB\-V, \-\-version\fR" 4
.IX Item "-V, --version"
.Vb 1
\&  Print version information and exit.
.Ve
.IP "\fB\-d, \-\-daemon\fR" 4
.IX Item "-d, --daemon"
.Vb 1
\&  Daemonize after startup (detach from terminal).
.Ve
.IP "\fB\-b, \-\-blacklist=\fR\fIlist\fR" 4
.IX Item "-b, --blacklist=list"
.Vb 2
\&  Comma\-separated list of RPCs to disable (no spaces, B<?> to list
\&  available RPCs).
.Ve
.IP "\fB\-D, \-\-dump\-conf\fR" 4
.IX Item "-D, --dump-conf"
.Vb 2
\&  Dump the configuration in a format compatible with F<qemu\-ga.conf>
\&  and exit.
.Ve
.IP "\fB\-h, \-\-help\fR" 4
.IX Item "-h, --help"
.Vb 1
\&  Display this help and exit.
.Ve
.SH "FILES"
.IX Header "FILES"
The syntax of the \fIqemu\-ga.conf\fR configuration file follows the
Desktop Entry Specification, here is a quick summary: it consists of
groups of key-value pairs, interspersed with comments.
.PP
.Vb 8
\&        # qemu\-ga configuration sample
\&        [general]
\&        daemonize = 0
\&        pidfile = /var/run/qemu\-ga.pid
\&        verbose = 0
\&        method = virtio\-serial
\&        path = /dev/virtio\-ports/org.qemu.guest_agent.0
\&        statedir = /var/run
.Ve
.PP
The list of keys follows the command line options:
.IP "\fBdaemon= boolean\fR" 4
.IX Item "daemon= boolean"
.PD 0
.IP "\fBmethod= string\fR" 4
.IX Item "method= string"
.IP "\fBpath= string\fR" 4
.IX Item "path= string"
.IP "\fBlogfile= string\fR" 4
.IX Item "logfile= string"
.IP "\fBpidfile= string\fR" 4
.IX Item "pidfile= string"
.IP "\fBfsfreeze\-hook= string\fR" 4
.IX Item "fsfreeze-hook= string"
.IP "\fBstatedir= string\fR" 4
.IX Item "statedir= string"
.IP "\fBverbose= boolean\fR" 4
.IX Item "verbose= boolean"
.IP "\fBblacklist= string list\fR" 4
.IX Item "blacklist= string list"
.PD
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fBqemu\fR\|(1)
.SH "AUTHOR"
.IX Header "AUTHOR"
Michael Roth <mdroth@linux.vnet.ibm.com>
